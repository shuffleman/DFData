# DFData Manager 使用指南

## 📖 目录

1. [安装和启动](#安装和启动)
2. [界面介绍](#界面介绍)
3. [基本操作](#基本操作)
4. [高级功能](#高级功能)
5. [常见问题](#常见问题)

---

## 安装和启动

### 方式一：使用启动脚本（推荐）

1. 双击运行 `启动应用.bat`
2. 脚本会自动检查环境、安装依赖并启动应用

### 方式二：手动启动

```bash
# 1. 安装依赖
npm install

# 2. 启动应用
npm start
```

### 首次启动

应用启动后会显示欢迎界面，点击"加载数据文件"开始使用。

---

## 界面介绍

### 顶部导航栏

- **应用标题**: DFData Manager
- **加载数据**: 加载数据文件夹
- **保存数据**: 保存修改到文件

### 左侧边栏

#### 数据浏览
- 🔫 **武器** - 管理所有武器
- 🔧 **配件** - 管理枪械配件
- 💣 **弹药** - 管理弹药类型
- 🛡️ **防护装备** - 管理头盔、护甲等

#### 系统配置
- 🔌 **插槽系统** - 武器改装系统

#### 工具
- 📊 **统计分析** - 数据可视化
- 🔍 **高级搜索** - 快速查找

#### 数据状态
显示当前数据加载状态、物品总数等信息。

### 主视图区域

根据选择的菜单项显示不同的内容：
- 数据表格
- 编辑表单
- 统计图表

---

## 基本操作

### 加载数据

1. 点击顶部"📂 加载数据"按钮
2. 选择 `E:\Workspace\DFData\normalized_data` 文件夹
3. 等待数据加载完成（约 2-5 秒）
4. 左侧显示"✓ 已加载"表示成功

**支持的数据文件：**
- items_catalog.json（必需）
- weapons_spec.json
- accessories_spec.json
- ammunitions_spec.json
- protection_spec.json
- slot_system.json

### 浏览数据

1. 点击左侧菜单选择类别（如"武器"）
2. 在表格中查看所有数据
3. 使用顶部搜索框快速查找
4. 滚动查看更多项目

### 编辑数据

#### 编辑现有物品

1. 找到要编辑的物品
2. 点击行末的"✏️"按钮
3. 在弹出对话框中修改属性：
   - 物品名称
   - Object ID / 内部 ID
   - 价格
   - 品质等级
   - 图片链接
4. 点击"保存"按钮
5. **重要**: 点击顶部"💾 保存数据"持久化到文件

#### 添加新物品

1. 点击视图右上角"➕ 添加XX"按钮
2. 填写所有必填字段
3. 点击"保存"
4. 记得保存到文件

#### 删除物品

1. 点击行末的"🗑️"按钮
2. 确认删除
3. 记得保存到文件

### 搜索和筛选

#### 搜索

在搜索框输入关键词，可搜索：
- 物品名称
- Object ID
- 类型

#### 筛选

在配件视图中，可以：
- 使用下拉菜单按类型筛选
- 组合搜索和筛选

---

## 高级功能

### 统计分析

1. 点击左侧"📊 统计分析"
2. 查看以下信息：

#### 物品统计卡片
- 各类物品数量
- 总计信息

#### 价格统计卡片
- 最高价格物品
- 平均价格
- 中位数价格

#### 图表
- **武器类型分布** - 饼图显示各类武器占比
- **配件类型分布** - 柱状图显示配件数量

### 数据验证

**保存前检查：**
- Object ID 必须唯一
- 价格必须为非负数
- 品质等级范围 0-6

### 批量操作

**计划中的功能：**
- 批量修改价格
- 批量导入/导出
- 批量删除

---

## 常见问题

### Q1: 数据加载失败怎么办？

**可能原因：**
- 选择的文件夹不正确
- 数据文件损坏
- 文件格式错误

**解决方法：**
1. 确认选择的是 `normalized_data` 文件夹
2. 检查文件夹内是否有 `items_catalog.json`
3. 用文本编辑器打开 JSON 文件检查格式
4. 查看开发者控制台（F12）的错误信息

### Q2: 修改后数据丢失了？

**原因：** 忘记点击"保存数据"按钮

**解决方法：**
- 每次编辑后务必点击顶部"💾 保存数据"
- 建议定期备份数据文件

### Q3: 图片不显示？

**可能原因：**
- 图片链接失效
- 网络连接问题

**解决方法：**
- 检查图片 URL 是否正确
- 确保有网络连接
- 更新图片链接

### Q4: 应用无法启动？

**检查清单：**
- [ ] 已安装 Node.js？运行 `node --version`
- [ ] 已安装依赖？运行 `npm install`
- [ ] 端口是否被占用？
- [ ] 查看错误日志

### Q5: 如何备份数据？

**方法：**
1. 复制整个 `normalized_data` 文件夹
2. 重命名为 `normalized_data_backup_日期`
3. 保存到安全位置

**建议：**
- 每次大量修改前先备份
- 定期备份（每周/每月）
- 使用版本控制（Git）

### Q6: 数据保存后可以撤销吗？

**当前版本：** 不支持撤销功能

**替代方案：**
- 保存前先备份
- 使用 Git 管理数据文件
- 下个版本将添加撤销功能

### Q7: 可以同时打开多个应用实例吗？

**可以**，但不建议：
- 可能导致数据冲突
- 最后保存的会覆盖之前的
- 建议一次只运行一个实例

### Q8: 支持什么操作系统？

- ✅ Windows 10/11
- ✅ macOS 10.13+
- ✅ Linux（Ubuntu、Fedora 等）

### Q9: 数据文件太大怎么办？

**优化建议：**
- 分批加载数据
- 使用搜索而不是滚动
- 定期清理无用数据
- 升级电脑内存

### Q10: 如何报告 Bug？

1. 记录操作步骤
2. 截图错误信息
3. 打开开发者工具（F12）复制控制台错误
4. 提交问题报告，包含：
   - 操作系统版本
   - Node.js 版本
   - 应用版本
   - 错误描述
   - 复现步骤

---

## 💡 使用技巧

### 技巧 1：快速导航

使用键盘快捷键：
- `Ctrl+F` - 聚焦搜索框
- `Esc` - 关闭对话框
- `Ctrl+S` - 保存数据（计划中）

### 技巧 2：数据筛选

组合使用搜索和筛选可以快速定位物品：
1. 先用类型筛选缩小范围
2. 再用搜索框精确查找

### 技巧 3：批量编辑

如果需要批量修改：
1. 导出 JSON 文件
2. 用编辑器批量替换
3. 重新加载数据验证

### 技巧 4：数据分析

利用统计功能：
- 查看价格分布规划经济系统
- 分析类型分布平衡游戏
- 导出图表用于汇报

### 技巧 5：工作流程

**推荐工作流程：**
1. 启动应用
2. 加载数据
3. 备份当前数据
4. 进行编辑
5. 定期保存
6. 完成后再次备份

---

## 📞 获取帮助

- 📖 查看 README.md
- 💬 查看常见问题
- 🐛 报告问题
- 💡 功能建议

---

**祝您使用愉快！** 🎮

_更新时间: 2025-12-01_
